# üèòÔ∏è Stud—Åom Rooms Bot

**Stud—Åom Rooms Bot** ‚Äî —ç—Ç–æ Telegram-–±–æ—Ç –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –æ–±—â–µ–∂–∏—Ç–∏—è (—Å–æ–∑–¥–∞–Ω –¥–ª—è –ú–µ—Ö–º–∞—Ç–∞ –ú–ì–£).

–ë–æ—Ç —Ä–µ—à–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –∑–∞—Å–µ–ª–µ–Ω–∏—è: "–ö—Ç–æ –º–æ–∏ —Å–æ—Å–µ–¥–∏?". –°—Ç—É–¥–µ–Ω—Ç –≤–≤–æ–¥–∏—Ç —Å–≤–æ–∏ –§–ò–û –∏ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è, –±–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç –µ–≥–æ –≤ –±–∞–∑–µ, —Å–æ–æ–±—â–∞–µ—Ç –Ω–æ–º–µ—Ä –∫–æ–º–Ω–∞—Ç—ã –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–æ—Å–µ–¥–µ–π –ø–æ –∫–æ–º–Ω–∞—Ç–µ –∏ –±–ª–æ–∫—É.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **–ü–æ–∏—Å–∫ —Å–æ—Å–µ–¥–µ–π:** –£–∑–Ω–∞–π, —Å –∫–µ–º —Ç—ã –∂–∏–≤–µ—à—å, –µ—â–µ –¥–æ –∑–∞—Å–µ–ª–µ–Ω–∏—è.
* **–£–º–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –±–ª–æ–∫–∞–º:** –ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ–±—â–µ–∂–∏—Ç–∏—è. –ï—Å–ª–∏ –∫–æ–º–Ω–∞—Ç–∞ –∏–º–µ–µ—Ç –∏–Ω–¥–µ–∫—Å "–ª" (–ª–µ–≤–∞—è) –∏–ª–∏ "–ø" (–ø—Ä–∞–≤–∞—è), –±–æ—Ç –ø–æ–∫–∞–∂–µ—Ç —Å–æ—Å–µ–¥–µ–π –∏–∑ —Å–º–µ–∂–Ω–æ–π –∫–æ–º–Ω–∞—Ç—ã —Ç–æ–≥–æ –∂–µ –±–ª–æ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–ë44–æ–ª` –∏ `–ë440–ø`).
* **–ó–∞—â–∏—Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ (Anti-stalking):**
    * –ü—Ä–∏–Ω—Ü–∏–ø "–ü–µ—Ä–≤—ã–π –ø—Ä–∏—à–µ–ª ‚Äî –∑–∞–Ω—è–ª". –î–∞–Ω–Ω—ã–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –ø–µ—Ä–≤–æ–º—É Telegram-–∞–∫–∫–∞—É–Ω—Ç—É, –∫–æ—Ç–æ—Ä—ã–π –∏—Ö –≤–≤–µ–ª.
    * –°—Ç–∞—Ç—É—Å `OK`: –ø–µ—Ä–≤–∞—è —É—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è.
    * –°—Ç–∞—Ç—É—Å `ERROR`: –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö —Å –¥—Ä—É–≥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ–≥–¥–∞ –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ª—é–¥–∏ –ø–µ—Ä–µ–±–∏—Ä–∞—é—Ç –§–ò–û, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –≥–¥–µ –∂–∏–≤—É—Ç –¥—Ä—É–≥–∏–µ.
* **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è:** –¢–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –∏ –∏–Ω—Ñ–æ-—Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤) –º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Google –¢–∞–±–ª–∏—Ü—É (–ª–∏—Å—Ç `comment`), –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```bash
git clone [https://github.com/ryakhovskiyy/studcom_rooms_bot.git](https://github.com/ryakhovskiyy/studcom_rooms_bot.git)
cd studcom_rooms_bot

# Linux/macOS
python3 -m venv venv
source venv/bin/activate

# Windows
python -m venv venv
venv\Scripts\activate
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Cloud

1.  –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com/).
2.  –í–∫–ª—é—á–∏—Ç–µ API: **Google Drive API** –∏ **Google Sheets API**.
3.  –°–æ–∑–¥–∞–π—Ç–µ **Service Account**, —Å–∫–∞—á–∞–π—Ç–µ JSON-–∫–ª—é—á.
4.  –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ñ–∞–π–ª –∫–ª—é—á–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `studcomsummerbot-key.json`) –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞.
5.  –°–æ–∑–¥–∞–π—Ç–µ Google –¢–∞–±–ª–∏—Ü—É.
6.  **–í–∞–∂–Ω–æ:** –î–∞–π—Ç–µ email-–∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø—Ä–∞–≤–∞ **–†–µ–¥–∞–∫—Ç–æ—Ä–∞** –≤ –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü–µ.

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–¥–∞ (main.py)

–í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ —Ñ–∞–π–ª–µ –∑–∞–ø—É—Å–∫–∞ `main.py`.

**3.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¢–æ–∫–µ–Ω–∞**
–ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `main()` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞:

```python
def main() -> None:
    # –ó–∞–º–µ–Ω–∏—Ç–µ 'TOKEN' –Ω–∞ —Ç–æ–∫–µ–Ω –æ—Ç @BotFather
    application = Application.builder().token('TOKEN').build()
```

**3.2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¢–∞–±–ª–∏—Ü—ã**
–ù–∞–π–¥–∏—Ç–µ –±–ª–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ `gspread` –∏ —É–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ JSON-—Ñ–∞–π–ª–∞ –∏ –∏–º—è —Ç–∞–±–ª–∏—Ü—ã:

```python
# –£–∫–∞–∂–∏—Ç–µ –∏–º—è –≤–∞—à–µ–≥–æ JSON-—Ñ–∞–π–ª–∞
creds = ServiceAccountCredentials.from_json_keyfile_name('studcomsummerbot-key.json', scope)
client = gspread.authorize(creds)

# –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π Google –¢–∞–±–ª–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "StudcomSummer")
# –í–∞–∂–Ω–æ: –Ω–∞–∑–≤–∞–Ω–∏—è –ª–∏—Å—Ç–æ–≤ (worksheet) –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è "base", "users", "comment"
sheet = client.open("StudcomSummer").worksheet("base")
users = client.open("StudcomSummer").worksheet("users")
comment = client.open("StudcomSummer").worksheet("comment")
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google –¢–∞–±–ª–∏—Ü—ã

–¢–∞–±–ª–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Ç—Ä–æ–≥–æ 3 –ª–∏—Å—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏.

### 1. –õ–∏—Å—Ç `base` (–°–ø–∏—Å–∫–∏ –∑–∞—Å–µ–ª–µ–Ω–∏—è)
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –∏–¥–µ—Ç –ø–æ–∏—Å–∫.

| –ö–æ–ª–æ–Ω–∫–∞ | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **A** | `–§–∞–º–∏–ª–∏—è` | |
| **B** | `–ò–º—è` | |
| **C** | `–û—Ç—á–µ—Å—Ç–≤–æ` | |
| **D** | `–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è` | –§–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –≤–≤–æ–¥–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **E** | `–ö—É—Ä—Å` | |
| **F** | `–ö–æ–º–Ω–∞—Ç–∞` | –ü—Ä–∏–º–µ—Ä—ã: `–ê900` (–æ—Ç–¥–µ–ª—å–Ω–∞—è), `–ë440–ª` (–ª–µ–≤–∞—è –≤ –±–ª–æ–∫–µ), `–ë440–ø` (–ø—Ä–∞–≤–∞—è) |

### 2. –õ–∏—Å—Ç `users` (–õ–æ–≥–∏ –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
–°—é–¥–∞ –±–æ—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞.

| –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| `tg-id` | Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `Username` | –ù–∏–∫–Ω–µ–π–º |
| `–§–∞–º–∏–ª–∏—è` | –í–≤–µ–¥–µ–Ω–Ω–∞—è —Ñ–∞–º–∏–ª–∏—è |
| `–ò–º—è` | –í–≤–µ–¥–µ–Ω–Ω–æ–µ –∏–º—è |
| `–û—Ç—á–µ—Å—Ç–≤–æ` | –í–≤–µ–¥–µ–Ω–Ω–æ–µ –æ—Ç—á–µ—Å—Ç–≤–æ |
| `–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è` | –í–≤–µ–¥–µ–Ω–Ω–∞—è –¥–∞—Ç–∞ |
| `Status` | –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (`OK` –∏–ª–∏ `ERROR`) |

* **OK**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –¥–∞–Ω–Ω—ã–µ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã –∑–∞ —ç—Ç–∏–º `tg-id`.
* **ERROR**: –≠—Ç–∏ –§–ò–û+–î–† —É–∂–µ –±—ã–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥—Ä—É–≥–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º. –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω.

### 3. –õ–∏—Å—Ç `comment` (–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π)
–ü–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å —Ç–µ–∫—Å—Ç –≤ –±–æ—Ç–µ —á–µ—Ä–µ–∑ HTML-—Ä–∞–∑–º–µ—Ç–∫—É.

* **–Ø—á–µ–π–∫–∞ A1 (–ö–†–ê–°–ù–ê–Ø):** –°–æ–¥–µ—Ä–∂–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
    * *–ü—Ä–∏–º–µ—Ä:* `<i>–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã 19.08.25 –≤ 19:00</i>`

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–µ–≥–∏ (—Å–ø—Ä–∞–≤–æ—á–Ω–æ):**
* `<b>–ñ–∏—Ä–Ω—ã–π</b>`
* `<i>–ö—É—Ä—Å–∏–≤</i>`
* `<u>–ü–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π</u>`
* `<s>–ó–∞—á–µ—Ä–∫–Ω—É—Ç—ã–π</s>`
* `<code>–ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π</code>`
* `<pre>–ë–ª–æ–∫ –∫–æ–¥–∞</pre>`
* `<a href="URL">–°—Å—ã–ª–∫–∞</a>`
* `<br>` (–ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏ ‚Äî –∞–Ω–∞–ª–æ–≥ Enter)

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

```bash
python rooms.py
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–§–∞–π–ª JSON —Å –∫–ª—é—á–∞–º–∏ (`studcomsummerbot-key.json`) –¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ.

---
**–ö–æ–Ω—Ç–∞–∫—Ç—ã:**
–ê–ª–µ–∫—Å–µ–π –†—è—Ö–æ–≤—Å–∫–∏–π | [Telegram](t.me/ryakhovskiyy)
